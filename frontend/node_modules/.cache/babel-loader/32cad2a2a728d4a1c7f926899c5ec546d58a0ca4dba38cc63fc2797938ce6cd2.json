{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/listingspark-ai/frontend/src/components/VirtualTourUploadPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { motion } from 'framer-motion';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { UserContext } from '../App';\nimport VirtualTourUpload from './VirtualTourUpload';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = process.env.REACT_APP_BACKEND_URL + '/api' || 'http://localhost:8000/api';\nconst VirtualTourUploadPage = () => {\n  _s();\n  const {\n    propertyId\n  } = useParams();\n  const {\n    user\n  } = useContext(UserContext);\n  const navigate = useNavigate();\n  const [property, setProperty] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchProperty();\n  }, [propertyId]);\n  const fetchProperty = async () => {\n    try {\n      const response = await axios.get(`${API}/properties/${user.id}`);\n      const foundProperty = response.data.find(p => p.id === propertyId);\n      setProperty(foundProperty);\n    } catch (error) {\n      console.error('Error fetching property:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleTourCreated = tour => {\n    navigate(`/virtual-tour/${propertyId}`);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-white text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this);\n  }\n  if (!property) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-white text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Property not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/dashboard'),\n          className: \"btn-viral mt-4\",\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-6 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/dashboard'),\n          className: \"text-2xl hover:text-purple-300 transition-colors\",\n          children: \"\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(motion.h1, {\n            initial: {\n              x: -20,\n              opacity: 0\n            },\n            animate: {\n              x: 0,\n              opacity: 1\n            },\n            className: \"text-3xl font-bold mb-2\",\n            children: \"Add 360\\xB0 Virtual Tour\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-purple-200\",\n            children: property.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-purple-300 text-sm\",\n            children: property.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          y: 20,\n          opacity: 0\n        },\n        animate: {\n          y: 0,\n          opacity: 1\n        },\n        className: \"max-w-4xl mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass rounded-2xl p-8\",\n          children: /*#__PURE__*/_jsxDEV(VirtualTourUpload, {\n            propertyId: propertyId,\n            onTourCreated: handleTourCreated\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(VirtualTourUploadPage, \"tXrP2v8RgCJAfwOhsBnGTJCRtGw=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = VirtualTourUploadPage;\nexport default VirtualTourUploadPage;\nvar _c;\n$RefreshReg$(_c, \"VirtualTourUploadPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","motion","useParams","useNavigate","UserContext","VirtualTourUpload","axios","jsxDEV","_jsxDEV","API","process","env","REACT_APP_BACKEND_URL","VirtualTourUploadPage","_s","propertyId","user","navigate","property","setProperty","loading","setLoading","fetchProperty","response","get","id","foundProperty","data","find","p","error","console","handleTourCreated","tour","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","h1","initial","x","opacity","animate","title","address","div","y","onTourCreated","_c","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/listingspark-ai/frontend/src/components/VirtualTourUploadPage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { motion } from 'framer-motion';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { UserContext } from '../App';\nimport VirtualTourUpload from './VirtualTourUpload';\nimport axios from 'axios';\n\nconst API = process.env.REACT_APP_BACKEND_URL + '/api' || 'http://localhost:8000/api';\n\nconst VirtualTourUploadPage = () => {\n  const { propertyId } = useParams();\n  const { user } = useContext(UserContext);\n  const navigate = useNavigate();\n  const [property, setProperty] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchProperty();\n  }, [propertyId]);\n\n  const fetchProperty = async () => {\n    try {\n      const response = await axios.get(`${API}/properties/${user.id}`);\n      const foundProperty = response.data.find(p => p.id === propertyId);\n      setProperty(foundProperty);\n    } catch (error) {\n      console.error('Error fetching property:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleTourCreated = (tour) => {\n    navigate(`/virtual-tour/${propertyId}`);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center\">\n        <div className=\"text-white text-center\">\n          <div className=\"spinner mb-4\"></div>\n          <p>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!property) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center\">\n        <div className=\"text-white text-center\">\n          <p>Property not found</p>\n          <button onClick={() => navigate('/dashboard')} className=\"btn-viral mt-4\">\n            Back to Dashboard\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white\">\n      <div className=\"container mx-auto px-6 py-8\">\n        {/* Header */}\n        <div className=\"flex items-center gap-4 mb-8\">\n          <button\n            onClick={() => navigate('/dashboard')}\n            className=\"text-2xl hover:text-purple-300 transition-colors\"\n          >\n            ←\n          </button>\n          <div className=\"flex-1\">\n            <motion.h1 \n              initial={{ x: -20, opacity: 0 }}\n              animate={{ x: 0, opacity: 1 }}\n              className=\"text-3xl font-bold mb-2\"\n            >\n              Add 360° Virtual Tour\n            </motion.h1>\n            <p className=\"text-purple-200\">{property.title}</p>\n            <p className=\"text-purple-300 text-sm\">{property.address}</p>\n          </div>\n        </div>\n\n        {/* Upload Interface */}\n        <motion.div\n          initial={{ y: 20, opacity: 0 }}\n          animate={{ y: 0, opacity: 1 }}\n          className=\"max-w-4xl mx-auto\"\n        >\n          <div className=\"glass rounded-2xl p-8\">\n            <VirtualTourUpload \n              propertyId={propertyId}\n              onTourCreated={handleTourCreated}\n            />\n          </div>\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default VirtualTourUploadPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}